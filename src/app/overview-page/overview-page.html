<h2 class="body-font heading first">Add new bookmark</h2>
<app-bookmark
  [originalArray]="links()"
  (originalArrayChange)="updateLinks($event)"
/>

<h2 class="heading">Flight Simulator</h2>
<div class="test-data">
  <p class="explainer">
    Flight Simulator &#169; allows you to quickly add and delete test data in
    our database. Fill the database with 50 new links or empty the database so
    that all bookmarks are deleted.
  </p>

  <div class="button-row">
    <button class="button-secondary" (click)="fillLinksWithTestData()">
      Auto Save 50 Bookmarks
    </button>
    <button class="button-danger" (click)="clearDatabase()">
      Delete all bookmarks
    </button>
  </div>
</div>

<div class="overview-header">
  <h2 class="body-font heading">Saved Bookmarks</h2>
  @if (chunkedArray().length > 0) {
    <p>Page {{ page() + 1 }} of {{ chunkedArray().length }}</p>
  }
</div>

<div class="pagination-container">
  @if (chunkedArray().length == 0) {
    <div class="no-saved-bookmarks">
      There are no saved bookmarks. Add a bookmark using the form above. Return
      here to manage saved bookmarks.
    </div>
  }

  @for (link of chunkedArray()[page()]; let index = $index; track link) {
    <app-bookmark
      (originalArrayChange)="updateLinks($event)"
      [showAdd]="false"
      [showDelete]="true"
      [showEdit]="true"
      [value]="link"
      [originalArray]="links()"
      [localIndex]="index"
      [globalIndex]="calculateGlobalIndex(index)"
    />
  }

  <!--  pagination -->
  <div class="page-links">
    @if (chunkedArray().length > 0) {
      <!-- previous page -->
      <button (click)="handlePageDecrease()"><</button>
      @for (link of chunkedArray(); let index = $index; track link) {
        <button (click)="handlePageChange(index)">{{ index + 1 }}</button>
      }

      <!-- next page -->
      <button (click)="handlePageIncrease()">></button>
    }
  </div>
  <!--  pagination -->
</div>
